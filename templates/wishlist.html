{% extends "base.html" %}

{% block title %}Wishlist | Ashwaqâ€™s Abaya{% endblock %}

{% block content %}
<section>
  <div style="max-width:900px;margin:0 auto 18px;">
    <h1 style="font-family:'Playfair Display',serif;margin:0 0 10px;">Wishlist</h1>
    <p style="color:var(--muted);margin:0;">Your saved abayas ðŸ’›</p>
  </div>

  <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:18px;">
    {% for item in items %}
    <div class="card" style="padding:16px;border-radius:var(--radius);background:var(--card);border:1px solid var(--border);box-shadow:var(--shadow);">
      <div style="height:180px;border-radius:14px;background:rgba(17,17,17,0.06);overflow:hidden;">
        {% if item.product.image %}
        <img src="{{ item.product.image.url }}" alt="{{ item.product.name }}" style="width:100%;height:100%;object-fit:cover;">
        {% endif %}
      </div>

      <h3 style="margin:12px 0 6px;font-size:16px;">{{ item.product.name }}</h3>
      <p style="margin:0 0 12px;color:var(--muted);font-size:14px;">
        ${{ item.product.price }}
      </p>

      <div style="display:flex;gap:10px;">
        <a class="btn btn-gold" style="flex:1;" href="{% url 'product_detail' item.product.slug %}">View</a>
        <a class="btn btn-outline" style="flex:1;" href="{% url 'wishlist_toggle' item.product.id %}">Remove</a>
      </div>
    </div>
    {% empty %}
    <div style="grid-column:1/-1;">
      <div class="card" style="padding:22px;border-radius:var(--radius);background:var(--card);border:1px solid var(--border);box-shadow:var(--shadow);">
        <p style="margin:0;color:var(--muted);">
          Your wishlist is empty âœ¨ Go save your favorite abayas.
        </p>
        <div style="margin-top:14px;">
          <a class="btn btn-gold" href="{% url 'product_list' %}">Shop Now</a>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>

  <style>
    @media (max-width: 900px) {
      section > div[style*="grid-template-columns"] {
        grid-template-columns: 1fr !important;
      }
    }
  </style>
</section>
{% endblock %}
